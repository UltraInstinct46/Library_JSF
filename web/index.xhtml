<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:p="http://primefaces.org/ui">
  <h:head>
    <title>Books Data</title>
  </h:head>
  <h:body>
<style type="text/css">
    .ui-row-editor .ui-row-editor-pencil {
        margin-left:8px;
    }
</style>
     <p:dialog id="bookDetail1" widgetVar="$bookDetail1" header="Add 
Book" hideEffect="explode" appendTo="@(body)" resizable="false" draggable="false" closeOnEscape="true">
      <h:form>
        <p:panelGrid columns="2">
          <h:outputLabel for="judul" value="Judul Buku: *" />
          <p:inputText id="judul" value="#{bookBean.newbook.judulBuku}" label="Book Title" placeholder="Book Title" />
          <h:outputLabel for="penerbit" value="Penerbit" />
          <p:inputText id="penerbit" label="Penerbit" value="#{bookBean.newbook.penerbit}" placeholder="Penerbit" />
          <h:outputLabel for="pengarang" value="Pengarang" />
          <p:inputText id="pengarang" label="Pengarang" value="#{bookBean.newbook.pengarang}" placeholder="Pengarang" />
          <p:outputLabel for="tahun" value="Tahun Penerbit" />
          <p:inputText id="tahun" value="#{bookBean.newbook.tahunPenerbit}" label="Tahun Penerbit:" required="true" requiredMessage="Please Enter Published Date!" placeholder="Published Date" >
              <f:convertNumber integerOnly="true" type="number" />
          </p:inputText>
          <p:outputLabel for="kategori" value="Kategori" />
          <p:inputText id="kategori" label="Price" value="#{bookBean.newbook.kategori}" placeholder="price" />
          <p:outputLabel for="stock" value="Stock" />
          <p:inputText id="stock" label="Price" value="#{bookBean.newbook.stok}" placeholder="price" />
          <p:commandButton  value="Add" process="@form" id="AddButtonId" ajax="true" icon="ui-icon-plus" actionListener="#{bookBean.addBook()}" oncomplete="PF('$bookDetail1').hide()" />
          <p:commandButton id="cancelAddButtonId" value="Cancel" onclick="handleComplete(xhr, status, args)" />
        </p:panelGrid>
      </h:form>
    </p:dialog>
     <p:dialog id="bookDetail2" widgetVar="$bookDetail2" header="Add Book" hideEffect="explode" appendTo="@(body)" resizable="false" draggable="false" closeOnEscape="true">
      <h:form>
         
        <p:panelGrid columns="2">
          <h:outputLabel for="judul" value="Judul Buku: *" />
          <p:inputText id="judul" value="#{bookBean.book.judulBuku}" label="Book Title" placeholder="Book Title" />
          <h:outputLabel for="penerbit" value="Penerbit" />
          <p:inputText id="penerbit" label="Penerbit" value="#{bookBean.book.penerbit}" placeholder="Penerbit" />
          <h:outputLabel for="pengarang" value="Pengarang" />
          <p:inputText id="pengarang" label="Pengarang" value="#{bookBean.book.pengarang}" placeholder="Pengarang" />
          <p:outputLabel for="tahun" value="Tahun Penerbit" />
          <p:inputText id="tahun" value="#{bookBean.book.tahunPenerbit}" label="Tahun Penerbit:" required="true" requiredMessage="Please Enter Published Date!" placeholder="Published Date" >
              <f:convertNumber integerOnly="true" type="number" />
          </p:inputText>
          <p:outputLabel for="kategori" value="Kategori" />
          <p:inputText id="kategori" label="Price" value="#{bookBean.book.kategori}" placeholder="price" />
          <p:outputLabel for="stock" value="Stock" />
          <p:inputText id="stock" label="Price" value="#{bookBean.book.stok}" placeholder="price" />
         <p:commandButton value="Update" ajax="true" icon="ui-icon-disk"  actionListener="#{bookBean.UpdateBook(bookBean.book)}" oncomplete="handleComplete(xhr, status, args)" />
          <p:commandButton id="cancelAddButtonId" value="Cancel" onclick="handleComplete(xhr, status, args)" />
        </p:panelGrid>
      </h:form>
    </p:dialog>
     <div class="card">
        <p:tabView>
            <p:tab title="Header I">
<h:form id="form1">
     <p:commandButton icon="ui-icon-plusthick" id="addUserBtn" value="Add Book" update=":bookDetail1" ajax="true" oncomplete="PF('$bookDetail1').show()" /> 
      <p:inputText id="globalFilter" onkeyup="PF('bookTablevar').filter()" style="width:300px" placeholder="Search all fields using global function" />
    <p:growl id="msgs" showDetail="true"/>
 
    <p:dataTable var="book" value="#{bookBean.books}" paginator="true" rows="5" id="bookTable" widgetVar="bookTablevar" emptyMessage="No customers found with given criteria">
    <p:column headerText="Id">
        <h:outputText value="#{book.idBuku}" />
    </p:column>
 
    <p:column headerText="Judul Buku">
        <h:outputText value="#{book.judulBuku}" />
    </p:column>
 
    <p:column headerText="Penerbit">
        <h:outputText value="#{book.penerbit}" />
    </p:column>
 
    <p:column headerText="Pengarang">
        <h:outputText value="#{book.pengarang}" />
    </p:column>
    <p:column headerText="Tahun Penerbit">
        <h:outputText value="#{book.tahunPenerbit}" />
    </p:column>
    <p:column headerText="Kategori">
        <h:outputText value="#{book.kategori}" />
    </p:column>
    <p:column headerText="Stock">
        <h:outputText value="#{book.stok}" />
    </p:column>

        <p:column headerText="Action" style="text-align: 
center">
          <p:commandButton value="Delete" icon="ui-icon-trash" type="button" onclick="PF('confirmDialog').show()" />
          <p:confirmDialog message="Are you sure you want to 
delete this record?Record once deleted can not be retrieved." header="Deleting" severity="alert" widgetVar="confirmDialog">
            <p:commandButton value="Yes Sure" update="bookTable" action="#{bookBean.deleteBook(book)}" oncomplete="PF('confirmDialog').hide()" />
            <p:commandButton value="Not Yet" onclick="PF('confirmDialog').hide();" type="button" />
          </p:confirmDialog>
            <p:commandButton styleClass="ui-button-raised ui-button-info ui-button-flat" icon="ui-icon-pencil" id="editUserBtn" value="Edit  ..." ajax="true" actionListener="#{bookBean.changeBook(book)}" update=":bookDetail2" oncomplete="PF('$bookDetail2').show()" />
        </p:column>
 </p:dataTable> 
 
     
 </h:form>
            </p:tab>
            <p:tab title="Header II">
                <p class="m-0">
                    Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab
                    illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut
                    odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Consectetur, adipisci velit, sed quia non numquam eius modi.
                </p>
            </p:tab>
            <p:tab title="Header III">
                <p class="m-0">At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti atque corrupti quos dolores
                    et quas molestias excepturi sint occaecati cupiditate non provident, similique sunt in culpa qui officia deserunt mollitia animi, id est laborum et dolorum fuga.
                    Et harum quidem rerum facilis est et expedita distinctio. Nam libero tempore, cum soluta nobis est eligendi optio cumque nihil impedit quo minus.
                </p>
            </p:tab>
        </p:tabView>
    </div>
  </h:body>
</html>